"use strict";(self.webpackChunkecos_project=self.webpackChunkecos_project||[]).push([[34],{1034:(e,s,r)=>{r.r(s),r.d(s,{default:()=>v});var a=r(5043),o=r(9806),t=r(4799),l=r(3969),c=r(2579),i=r(5895),n=r(298),d=r(7873),h=r(6154),u=r(2097),x=r(8470),p=r(2672),f=r(8315),m=r(8729),A=r(8720),j=r(8163),b=r(579);const v=()=>{const{updateProfile:e}=(0,m.A)(),{showToast:s}=(0,A.d)(),r=(0,j.Zp)(),[v,g]=(0,a.useState)(""),[S,w]=(0,a.useState)(null),[z,C]=(0,a.useState)(null),[k,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=localStorage.getItem("user");if(e){const{user:s}=JSON.parse(e);g(s.full_name||""),w(s.avatar_url||"")}},[]);return(0,b.jsx)(o.A,{maxWidth:"sm",children:(0,b.jsxs)(t.A,{elevation:3,sx:{p:4,mt:4,borderRadius:4},children:[(0,b.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,b.jsx)(c.A,{onClick:()=>r("/profile"),sx:{mr:2},children:(0,b.jsx)(f.A,{})}),(0,b.jsx)(i.A,{variant:"h5",sx:{fontWeight:"bold",color:"#f6b033"},children:"Editar Perfil"})]}),(0,b.jsxs)(n.A,{spacing:4,alignItems:"center",children:[(0,b.jsxs)(l.A,{sx:{position:"relative"},children:[(0,b.jsx)(d.A,{src:S,sx:{width:150,height:150,border:"4px solid #f5f5f5",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}}),(0,b.jsxs)(c.A,{color:"primary","aria-label":"upload picture",component:"label",sx:{position:"absolute",bottom:0,right:0,bgcolor:"white",boxShadow:2,"&:hover":{bgcolor:"#f0f0f0"}},children:[(0,b.jsx)("input",{hidden:!0,accept:"image/*",type:"file",onChange:e=>{const s=e.target.files[0];s&&(C(s),w(URL.createObjectURL(s)))}}),(0,b.jsx)(x.A,{})]})]}),(0,b.jsx)(h.A,{label:"Nome de Exibi\xe7\xe3o",fullWidth:!0,value:v,onChange:e=>g(e.target.value),helperText:"Como voc\xea aparecer\xe1 para outros usu\xe1rios."}),(0,b.jsx)(u.A,{variant:"contained",color:"primary",size:"large",fullWidth:!0,startIcon:(0,b.jsx)(p.A,{}),onClick:async()=>{if(y(!0),!v.trim())return s("O nome n\xe3o pode estar vazio.","error"),void y(!1);const{success:a,error:o}=await e({fullName:v,imageFile:z});a?(s("Perfil atualizado com sucesso!","success"),r("/profile")):s("Erro ao atualizar: "+o.message,"error"),y(!1)},disabled:k,sx:{py:1.5},children:k?"Salvando...":"Salvar Altera\xe7\xf5es"})]})]})})}},2672:(e,s,r)=>{r.d(s,{A:()=>t});var a=r(9992),o=r(579);const t=(0,a.A)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},8315:(e,s,r)=>{r.d(s,{A:()=>t});var a=r(9992),o=r(579);const t=(0,a.A)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},8470:(e,s,r)=>{r.d(s,{A:()=>t});var a=r(9992),o=r(579);const t=(0,a.A)([(0,o.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,o.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera")}}]);
//# sourceMappingURL=34.ec0c7fbb.chunk.js.map