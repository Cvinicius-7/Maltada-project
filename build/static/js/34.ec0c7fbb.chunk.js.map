{"version":3,"file":"static/js/34.ec0c7fbb.chunk.js","mappings":"oTAmBA,MAwGA,EAxGoBA,KAClB,MAAM,cAAEC,IAAkBC,EAAAA,EAAAA,MACpB,UAAEC,IAAcC,EAAAA,EAAAA,KAChBC,GAAWC,EAAAA,EAAAA,OACVC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAcC,IAAmBF,EAAAA,EAAAA,UAAS,OAC1CG,EAAWC,IAAgBJ,EAAAA,EAAAA,UAAS,OACpCK,EAASC,IAAcN,EAAAA,EAAAA,WAAS,IAEvCO,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAaC,aAAaC,QAAQ,QACxC,GAAIF,EAAY,CACd,MAAM,KAAEG,GAASC,KAAKC,MAAML,GAC5BT,EAAYY,EAAKG,WAAa,IAC9BZ,EAAgBS,EAAKI,YAAc,GACrC,GACC,IA6BH,OACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAACC,SAAS,KAAIC,UACtBC,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CAACC,UAAW,EAAGC,GAAI,CAAEC,EAAG,EAAGC,GAAI,EAAGC,aAAc,GAAIP,SAAA,EACxDC,EAAAA,EAAAA,MAACO,EAAAA,EAAG,CAACJ,GAAI,CAAEK,QAAS,OAAQC,WAAY,SAAUC,GAAI,GAAIX,SAAA,EACtDH,EAAAA,EAAAA,KAACe,EAAAA,EAAU,CAACC,QAASA,IAAMpC,EAAS,YAAa2B,GAAI,CAAEU,GAAI,GAAId,UAC3DH,EAAAA,EAAAA,KAACkB,EAAAA,EAAa,OAElBlB,EAAAA,EAAAA,KAACmB,EAAAA,EAAU,CAACC,QAAQ,KAAKb,GAAI,CAAEc,WAAY,OAAQC,MAAO,WAAYnB,SAAC,sBAI3EC,EAAAA,EAAAA,MAACmB,EAAAA,EAAK,CAACC,QAAS,EAAGX,WAAW,SAAQV,SAAA,EACpCC,EAAAA,EAAAA,MAACO,EAAAA,EAAG,CAACJ,GAAI,CAAEkB,SAAU,YAAatB,SAAA,EAChCH,EAAAA,EAAAA,KAAC0B,EAAAA,EAAM,CACLC,IAAK1C,EACLsB,GAAI,CAAEqB,MAAO,IAAKC,OAAQ,IAAKC,OAAQ,oBAAqBC,UAAW,iCAEzE3B,EAAAA,EAAAA,MAACW,EAAAA,EAAU,CACTO,MAAM,UACN,aAAW,iBACXU,UAAU,QACVzB,GAAI,CACFkB,SAAU,WACVQ,OAAQ,EACRC,MAAO,EACPC,QAAS,QACTJ,UAAW,EACX,UAAW,CAAEI,QAAS,YACtBhC,SAAA,EAEFH,EAAAA,EAAAA,KAAA,SAAOoC,QAAM,EAACC,OAAO,UAAUC,KAAK,OAAOC,SAzD5BC,IACzB,MAAMC,EAAOD,EAAEE,OAAOC,MAAM,GACxBF,IACFrD,EAAaqD,GACbvD,EAAgB0D,IAAIC,gBAAgBJ,SAsD5BzC,EAAAA,EAAAA,KAAC8C,EAAAA,EAAW,WAGhB9C,EAAAA,EAAAA,KAAC+C,EAAAA,EAAS,CACRC,MAAM,yBACNC,WAAS,EACTC,MAAOpE,EACPyD,SAAWC,GAAMzD,EAAYyD,EAAEE,OAAOQ,OACtCC,WAAW,wDAEbnD,EAAAA,EAAAA,KAACoD,EAAAA,EAAM,CACLhC,QAAQ,YACRE,MAAM,UACN+B,KAAK,QACLJ,WAAS,EACTK,WAAWtD,EAAAA,EAAAA,KAACuD,EAAAA,EAAQ,IACpBvC,QAlESwC,UAEjB,GADAlE,GAAW,IACNR,EAAS2E,OAGV,OAFA/E,EAAU,kCAAgC,cAC1CY,GAAW,GAIf,MAAM,QAAEoE,EAAO,MAAEC,SAAgBnF,EAAc,CAAEM,WAAUK,cAEvDuE,GACFhF,EAAU,iCAAkC,WAC5CE,EAAS,aAETF,EAAU,sBAAwBiF,EAAMC,QAAS,SAEnDtE,GAAW,IAmDHuE,SAAUxE,EACVkB,GAAI,CAAEuD,GAAI,KAAM3D,SAEfd,EAAU,cAAgB,oC,yDC/GvC,SAAe0E,EAAAA,EAAAA,IAA2B/D,EAAAA,EAAAA,KAAK,OAAQ,CACrDgE,EAAG,2IACD,O,yDCFJ,SAAeD,EAAAA,EAAAA,IAA2B/D,EAAAA,EAAAA,KAAK,OAAQ,CACrDgE,EAAG,8DACD,Y,yDCFJ,SAAeD,EAAAA,EAAAA,GAAc,EAAc/D,EAAAA,EAAAA,KAAK,SAAU,CACxDiE,GAAI,KACJC,GAAI,KACJC,EAAG,OACF,MAAmBnE,EAAAA,EAAAA,KAAK,OAAQ,CACjCgE,EAAG,0JACF,MAAO,c","sources":["pages/EditProfile.jsx","../node_modules/@mui/icons-material/esm/Save.js","../node_modules/@mui/icons-material/esm/ArrowBack.js","../node_modules/@mui/icons-material/esm/PhotoCamera.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { \r\n  Container, \r\n  Paper, \r\n  Box, \r\n  Typography, \r\n  TextField, \r\n  Button, \r\n  Avatar, \r\n  Stack,\r\n  IconButton\r\n} from \"@mui/material\";\r\nimport PhotoCamera from '@mui/icons-material/PhotoCamera';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { useToast } from \"../context/ToastContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst EditProfile = () => {\r\n  const { updateProfile } = useAuth();\r\n  const { showToast } = useToast();\r\n  const navigate = useNavigate();\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      const { user } = JSON.parse(storedUser);\r\n      setFullName(user.full_name || \"\");\r\n      setImagePreview(user.avatar_url || \"\");\r\n    }\r\n  }, []);\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImageFile(file);\r\n      setImagePreview(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setLoading(true);\r\n    if (!fullName.trim()) {\r\n        showToast(\"O nome não pode estar vazio.\", \"error\");\r\n        setLoading(false);\r\n        return;\r\n    }\r\n\r\n    const { success, error } = await updateProfile({ fullName, imageFile });\r\n\r\n    if (success) {\r\n      showToast(\"Perfil atualizado com sucesso!\", \"success\");\r\n      navigate(\"/profile\");\r\n    } else {\r\n      showToast(\"Erro ao atualizar: \" + error.message, \"error\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Paper elevation={3} sx={{ p: 4, mt: 4, borderRadius: 4 }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 4 }}>\r\n            <IconButton onClick={() => navigate('/profile')} sx={{ mr: 2 }}>\r\n                <ArrowBackIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h5\" sx={{ fontWeight: 'bold', color: '#f6b033' }}>\r\n            Editar Perfil\r\n            </Typography>\r\n        </Box>\r\n        <Stack spacing={4} alignItems=\"center\">\r\n          <Box sx={{ position: 'relative' }}>\r\n            <Avatar \r\n              src={imagePreview} \r\n              sx={{ width: 150, height: 150, border: '4px solid #f5f5f5', boxShadow: '0 4px 10px rgba(0,0,0,0.1)' }}\r\n            />\r\n            <IconButton \r\n              color=\"primary\" \r\n              aria-label=\"upload picture\" \r\n              component=\"label\"\r\n              sx={{\r\n                position: 'absolute',\r\n                bottom: 0,\r\n                right: 0,\r\n                bgcolor: 'white',\r\n                boxShadow: 2,\r\n                '&:hover': { bgcolor: '#f0f0f0' }\r\n              }}\r\n            >\r\n              <input hidden accept=\"image/*\" type=\"file\" onChange={handleImageChange} />\r\n              <PhotoCamera />\r\n            </IconButton>\r\n          </Box>\r\n          <TextField\r\n            label=\"Nome de Exibição\"\r\n            fullWidth\r\n            value={fullName}\r\n            onChange={(e) => setFullName(e.target.value)}\r\n            helperText=\"Como você aparecerá para outros usuários.\"\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            fullWidth\r\n            startIcon={<SaveIcon />}\r\n            onClick={handleSave}\r\n            disabled={loading}\r\n            sx={{ py: 1.5 }}\r\n          >\r\n            {loading ? \"Salvando...\" : \"Salvar Alterações\"}\r\n          </Button>\r\n        </Stack>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EditProfile;","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z\"\n}), 'Save');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z\"\n}), 'ArrowBack');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"3.2\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5\"\n}, \"1\")], 'PhotoCamera');"],"names":["EditProfile","updateProfile","useAuth","showToast","useToast","navigate","useNavigate","fullName","setFullName","useState","imagePreview","setImagePreview","imageFile","setImageFile","loading","setLoading","useEffect","storedUser","localStorage","getItem","user","JSON","parse","full_name","avatar_url","_jsx","Container","maxWidth","children","_jsxs","Paper","elevation","sx","p","mt","borderRadius","Box","display","alignItems","mb","IconButton","onClick","mr","ArrowBackIcon","Typography","variant","fontWeight","color","Stack","spacing","position","Avatar","src","width","height","border","boxShadow","component","bottom","right","bgcolor","hidden","accept","type","onChange","e","file","target","files","URL","createObjectURL","PhotoCamera","TextField","label","fullWidth","value","helperText","Button","size","startIcon","SaveIcon","async","trim","success","error","message","disabled","py","createSvgIcon","d","cx","cy","r"],"sourceRoot":""}