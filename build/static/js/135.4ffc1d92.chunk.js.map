{"version":3,"file":"static/js/135.4ffc1d92.chunk.js","mappings":"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","sources":["pages/authentication/modelo.js","pages/authentication/Login.jsx","pages/authentication/styles.js"],"sourcesContent":["const modeloData = {\r\n    email: {\r\n        message: '', \r\n        show: false\r\n    },\r\n    password: {\r\n        message: '', \r\n        show: false\r\n    },\r\n    confirmPassword: {\r\n        message: '', \r\n        show: false\r\n    }\r\n}\r\n\r\nexport { modeloData };","import React from \"react\";\r\nimport { Stack, Avatar, TextField, Button, Grid } from \"../../components\";\r\nimport logo from \"../../assets/images/Maltada2.png\";\r\nimport backgroundImage from \"../../assets/images/BG1.jpg\";\r\nimport { Typography, Box } from \"@mui/material\";\r\nimport { modeloData } from \"./modelo\";\r\nimport styles from \"./styles\";\r\nimport { useToast } from \"../../context/ToastContext\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  const { login } = useAuth();\r\n  const { showToast } = useToast();\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [error, setError] = React.useState(modeloData);\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    setLoading(true);\r\n    setError(modeloData);\r\n\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (email === \"\") {\r\n      setError((prev) => ({\r\n        ...prev,\r\n        email: { message: \"E-mail é obrigatório\", show: true },\r\n      }));\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (!emailRegex.test(email)) {\r\n      setError((prev) => ({\r\n        ...prev,\r\n        email: { message: \"E-mail inválido\", show: true },\r\n      }));\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (password === \"\") {\r\n      setError((prev) => ({\r\n        ...prev,\r\n        password: { message: \"Senha é obrigatória\", show: true },\r\n      }));\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { error } = await login(email, password);\r\n\r\n      if (error) {\r\n        throw error;\r\n      }\r\n      showToast(\"Login realizado com sucesso!\", \"success\");\r\n    } catch (error) {\r\n      if (error.message === \"Invalid login credentials\") {\r\n        showToast(\"E-mail ou senha inválidos\", \"error\");\r\n      } else {\r\n        showToast(\"Falha no login: \" + error.message, \"error\");\r\n      }\r\n      console.error(\"Falha no login\", error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      spacing={0}\r\n      sx={{\r\n        minHeight: \"100vh\",\r\n        width: \"100vw\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        overflow: \"hidden\",\r\n      }}\r\n    >\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        sm={12}\r\n        md={7}\r\n        lg={7}\r\n        sx={{\r\n          backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${backgroundImage})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          display: { xs: \"none\", md: \"flex\" },\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          minHeight: \"100vh\",\r\n          padding: 4,\r\n          flex: 1,\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h3\"\r\n          color=\"white\"\r\n          align=\"center\"\r\n          sx={{\r\n            mb: 2,\r\n            fontFamily: \"Montserrat\",\r\n            fontSize: \"3.5rem\",\r\n            fontWeight: 700,\r\n          }}\r\n        >\r\n          Maltada!\r\n        </Typography>\r\n        <Typography\r\n          variant=\"h6\"\r\n          color=\"white\"\r\n          align=\"center\"\r\n          sx={{ maxWidth: \"80%\", fontFamily: \"Roboto\", fontSize: \"1.7rem\" }}\r\n        >\r\n          A plataforma Cervejeira do Brasil\r\n        </Typography>\r\n      </Grid>\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        sm={12}\r\n        md={5}\r\n        lg={5}\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          minHeight: \"100vh\",\r\n          padding: 4,\r\n          flex: 1,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            maxWidth: \"400px\",\r\n            padding: \"2rem\",\r\n            borderRadius: \"10px\",\r\n          }}\r\n        >\r\n          <Stack spacing={2} sx={styles.stack}>\r\n            <Avatar src={logo} sx={styles.avatar} />\r\n          </Stack>\r\n          <Stack spacing={2} sx={styles.stack}>\r\n            <Typography\r\n              variant=\"h5\"\r\n              component=\"div\"\r\n              align=\"center\"\r\n              sx={{ fontFamily: \"roboto\", fontWeight: 500 }}\r\n            >\r\n              Seja bem-vindo!\r\n            </Typography>\r\n          </Stack>\r\n          <Stack spacing={2} sx={styles.stack}>\r\n            <TextField\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              error={error.email.show}\r\n              helperText={error.email.show ? error.email.message : \"\"}\r\n              label=\"E-mail\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            />\r\n          </Stack>\r\n          <Stack spacing={2} sx={styles.stack}>\r\n            <TextField\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              error={error.password.show}\r\n              helperText={error.password.show ? error.password.message : \"\"}\r\n              label=\"Senha\"\r\n              type=\"password\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            />\r\n          </Stack>\r\n          <Stack spacing={2} sx={styles.stack}>\r\n            <Button variant=\"text\" size=\"small\" sx={{ textTransform: \"none\" }}>\r\n              Esqueci minha senha\r\n            </Button>\r\n          </Stack>\r\n          <Stack spacing={2} sx={styles.stack}>\r\n            <Button\r\n              loading={loading}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              fullWidth\r\n              onClick={handleLogin}\r\n            >\r\n              Entrar\r\n            </Button>\r\n          </Stack>\r\n          <Stack spacing={2} sx={styles.stack}>\r\n            <Link\r\n              to=\"/register\"\r\n              style={{\r\n                textAlign: \"center\",\r\n                fontFamily: \"Roboto\",\r\n                color: \"#f6b033\",\r\n              }}\r\n            >\r\n              Criar conta\r\n            </Link>\r\n          </Stack>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","const styles = {\r\n    gridOutter: {\r\n        padding: 2,\r\n        borderRadius: 2,\r\n        '@media (min-width:900px)': {\r\n            boxShadow: 3,\r\n        },\r\n    },\r\n    grid: {},\r\n    stack: {\r\n        alignItems: 'center',\r\n        mt: 2,\r\n    },\r\n    avatar: {\r\n        width: 180,\r\n        height: 180,\r\n    },\r\n}\r\n\r\nexport default styles;"],"names":["modeloData","email","message","show","password","confirmPassword","Login","login","useAuth","showToast","useToast","setEmail","React","setPassword","error","setError","loading","setLoading","_jsxs","Grid","container","spacing","sx","minHeight","width","alignItems","justifyContent","position","top","left","right","bottom","overflow","children","item","xs","sm","md","lg","backgroundImage","concat","backgroundSize","backgroundPosition","backgroundRepeat","display","flexDirection","padding","flex","_jsx","Typography","variant","color","align","mb","fontFamily","fontSize","fontWeight","maxWidth","style","borderRadius","Stack","styles","stack","Avatar","src","logo","avatar","component","TextField","value","onChange","e","target","helperText","label","fullWidth","type","Button","size","textTransform","onClick","async","prev","_objectSpread","test","console","Link","to","textAlign","gridOutter","boxShadow","grid","mt","height"],"sourceRoot":""}